{% extends "index.html" %}

{% block style %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
{% endblock style %}

{% block content %}

<div class="d-flex gap-5 my-3 p-3 justify-content-center">
    <div class="list-group mx-0 w-auto">
        <h6 class="border-bottom pb-2 mb-0">Seguidores</h6>
        {% for a in followers %}
        <label class="list-group-item d-flex gap-2">
            <span>{{a.username}}</span>
        </label>
        {% endfor %}
    </div>

    <div class="list-group mx-0 w-auto">
        <h6 class="border-bottom pb-2 mb-0">Seguindo</h6>
        {% for a in following %}
        <label class="list-group-item d-flex gap-2">
            <span>{{a.username}}</span>
        </label>
        {% endfor %}
    </div>

    {% if unfollow %}
    <div class="list-group mx-0 w-auto">
        <h6 class="border-bottom pb-2 mb-0">NÃ£o me seguem de volta</h6>
        <p class="text-muted" id="show_return"></p>
        {% for a in unfollow %}
        <label class="list-group-item d-flex gap-2">
            <input class="form-check-input flex-shrink-0" type="checkbox" value="{{a.username}}">
            <span>{{a.username}}</span>
        </label>
        {% endfor %}
    </div>
    {% endif %}
    <p id="logando" hidden>{{acao_id}}</p>
</div>

{% endblock content %}

{% block scripts %}
<script>
    function update() {
        $(document).ready(function () {
            var id = $('#logando').val();
            var url = '/check-progress?acao_id' + id;
            setInterval(function () {
                $.get(url, function (data) {
                    $('#show_return').empty();
                    $('#show_return').text(data);
                    $("#preloader").show();
                });
            }, 500);
        });
    }
</script>
{% endblock scripts %}